<!DOCTYPE html>
<html>
<head>
    <title>Ferdy Token Drop</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="game-container">
        <canvas id="game-canvas" width="480" height="720"></canvas>
        <div id="ui-overlay"></div>
        <!-- Mute button for background music -->
        <button id="mute-btn" aria-label="Mute/unmute music" style="position:absolute;top:16px;right:16px;z-index:20;background:rgba(255,255,255,0.82);border:none;border-radius:50%;width:40px;height:40px;box-shadow:0 2px 8px rgba(0,0,0,0.13);cursor:pointer;font-size:1.5em;display:flex;align-items:center;justify-content:center;">
            ðŸ”Š
        </button>
    </div>
    <div id="instructions">
        <h2>Ferdy Token Drop</h2>
        <p>
            <strong>Move:</strong> Left / Right Arrow or A / D<br>
            <strong>Drop Token:</strong> Spacebar or Down Arrow<br>
            <strong>Score:</strong> +1 per person hit<br>
            <strong>Game Over:</strong> Hitting cops with token<br>
        </p>
        <button id="start-btn">Start Game</button>
    </div>
    <div id="gameover-overlay" style="display:none;">
        <h2>Game Over!</h2>
        <div id="final-score"></div>
        <button id="restart-btn">Restart</button>
    </div>
    <!-- Footer -->
    <footer id="site-footer">
        <div>
            <a href="https://x.com/MtDoji" target="_blank" rel="noopener" style="color:inherit;text-decoration:none;outline:none;pointer-events:none;cursor:default;" tabindex="-1">Created by MtDoji</a>
        </div>
        <div>
            <a href="https://snib.ai/" target="_blank" rel="noopener" style="color:inherit;text-decoration:none;outline:none;pointer-events:none;cursor:default;" tabindex="-1">Powered by Snib.ai</a>
        </div>
    </footer>
    <!-- SCRIPT ORDER: Dependency-safe -->
    <script src="audioManager.js"></script>
    <script src="stateManager.js"></script>
    <script src="scoreManager.js"></script>
    <script src="collisionSystem.js"></script>
    <script src="entityManager.js"></script>
    <script src="player.js"></script>
    <script src="balloon.js"></script>
    <script src="pedestrian.js"></script>
    <script src="police.js"></script>
    <script src="inputHandler.js"></script>
    <script src="renderer.js"></script>
    <script src="gameLoop.js"></script>
    <script src="main.js"></script>
    <script>
    // Make footer links "hidden" but clickable: open in new window on click of the text, but look like plain text
    document.addEventListener('DOMContentLoaded', function() {
        var siteFooter = document.getElementById('site-footer');
        if (siteFooter) {
            var links = siteFooter.getElementsByTagName('a');
            for (var i = 0; i < links.length; i++) {
                (function(link){
                    // Make it look like plain text
                    link.style.pointerEvents = 'auto';
                    link.style.cursor = 'pointer';
                    link.style.textDecoration = 'none';
                    link.setAttribute('tabindex', '-1');
                    // On click, open in new window
                    link.addEventListener('click', function(e){
                        e.preventDefault();
                        window.open(link.href, '_blank', 'noopener');
                    });
                })(links[i]);
            }
        }
    });
    </script>
</body>
</html>